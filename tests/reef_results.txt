reef Test Suite Results
=======================
Date: Thu Feb 12 08:24:04 PM MST 2026
reef: reef 0.2.0
fish: fish, version 4.4.0
bash: GNU bash, version 5.3.9(1)-release (x86_64-pc-linux-gnu)


── Variable Assignment & Export
PASS #1.1 [simple export] → T1:translate

PASS #1.2 [export with spaces] → T1:translate

PASS #1.3 [export PATH append] → T1:translate

PASS #1.4 [multiple exports] → T1:translate

PASS #1.5 [export without value] → T1:translate

PASS #1.6 [unset] → T1:translate

PASS #1.7 [declare -x] → T1:translate

PASS #1.8 [local in function] → T1:translate

T2   #1.9 [inline var before command] → bash-exec (detect:no)

PASS #1.10 [assignment with cmd subst] → T1:translate

PASS #1.11 [assignment with backticks] → T1:translate

T2   #1.12 [multi inline assignments] → bash-exec (detect:no)


── Command Substitution
PASS #2.1 [basic $()] → T1:translate

PASS #2.2 [nested $()] → T1:translate

PASS #2.3 [$() in assignment] → T1:translate

PASS #2.4 [backtick substitution] → T1:translate

PASS #2.5 [$() with pipes] → T1:translate

PASS #2.6 [deeply nested (3 levels)] → T1:translate

PASS #2.7 [deeply nested (4 levels)] → T1:translate

PASS #2.8 [cmd subst in argument] → T1:translate

PASS #2.9 [cmd subst in double quotes] → T1:translate

PASS #2.10 [multiple cmd substs] → T1:translate


── Conditionals
PASS #3.1 [if [ -f ] then fi] → T1:translate

PASS #3.2 [if/else] → T1:translate

PASS #3.3 [if/elif/else] → T1:translate

PASS #3.4 [[[ -n ]] test] → T1:translate

PASS #3.5 [[[ == pattern ]]] → T1:translate

PASS #3.6 [[[ && ]] combined] → T1:translate

PASS #3.7 [[[ || ]] combined] → T1:translate

PASS #3.8 [[[ =~ regex ]]] → T1:translate

PASS #3.9 [test command] → T1:translate

PASS #3.10 [ternary-style && ||] → T1:translate

PASS #3.11 [negated test] → T1:translate

PASS #3.12 [[[ ! -f ]]] → T1:translate

PASS #3.13 [[[ -z ]] empty] → T1:translate

PASS #3.14 [[[ -n ]] nonempty] → T1:translate

PASS #3.15 [[[ numeric -gt ]]] → T1:translate

PASS #3.16 [[[ string == string ]]] → T1:translate

PASS #3.17 [[[ string != string ]]] → T1:translate

PASS #3.18 [[[ =~ ]] has number] → T1:translate

PASS #3.19 [command -v check] → T1:translate

PASS #3.20 [nested if] → T1:translate


── Loops
PASS #4.1 [for with $(seq)] → T1:translate

PASS #4.2 [for with word list] → T1:translate

PASS #4.3 [for with glob] → T1:translate

PASS #4.4 [for with brace range] → T1:translate

PASS #4.5 [for with brace step] → T1:translate

PASS #4.6 [while read] → T1:translate

PASS #4.7 [while with condition] → T1:translate

PASS #4.8 [until loop] → T1:translate

PASS #4.9 [nested for loops] → T1:translate

PASS #4.10 [for with quoted items] → T1:translate

PASS #4.11 [for with cmd subst words] → T1:translate

PASS #4.12 [c-style for loop] → T1:translate

PASS #4.13 [c-style for with step] → T1:translate

PASS #4.14 [c-style for countdown] → T1:translate

PASS #4.15 [while read -r from pipe] → T1:translate


── Arithmetic
PASS #5.1 [basic addition] → T1:translate

PASS #5.2 [multiply] → T1:translate

PASS #5.3 [grouped] → T1:translate

PASS #5.4 [modulo] → T1:translate

PASS #5.5 [with variables] → T1:translate

PASS #5.6 [comparison > (1/0)] → T1:translate

PASS #5.7 [comparison < (1/0)] → T1:translate

PASS #5.8 [comparison == (1/0)] → T1:translate

PASS #5.9 [ternary] → T1:translate

PASS #5.10 [nested ternary] → T1:translate

PASS #5.11 [bitwise AND] → T1:translate

PASS #5.12 [bitwise OR] → T1:translate

PASS #5.13 [bitwise XOR] → T1:translate

PASS #5.14 [left shift] → T1:translate

PASS #5.15 [right shift] → T1:translate

PASS #5.16 [negation] → T1:translate

PASS #5.17 [arith in condition] → T1:translate

PASS #5.18 [(( )) as test] → T1:translate

PASS #5.19 [(( )) increment] → T1:translate

PASS #5.20 [let command] → T1:translate

PASS #5.21 [subtraction] → T1:translate

PASS #5.22 [division] → T1:translate

PASS #5.23 [power] → T1:translate

PASS #5.24 [complex grouping] → T1:translate

PASS #5.25 [unary negative] → T1:translate

PASS #5.26 [three variables] → T1:translate

PASS #5.27 [comparison <=] → T1:translate

PASS #5.28 [comparison >=] → T1:translate

PASS #5.29 [comparison !=] → T1:translate

PASS #5.30 [logic AND] → T1:translate

PASS #5.31 [logic OR] → T1:translate

PASS #5.32 [arith in assign] → T1:translate

PASS #5.33 [arith in export] → T1:translate

PASS #5.34 [arith in local fn] → T1:translate

PASS #5.35 [multiple arith] → T1:translate

PASS #5.36 [arith in dquote] → T1:translate

PASS #5.37 [(( )) assign] → T1:translate

PASS #5.38 [(( )) decrement] → T1:translate

PASS #5.39 [(( )) plus-equals] → T1:translate

PASS #5.40 [(( )) minus-equals] → T1:translate

PASS #5.41 [(( )) times-equals] → T1:translate

PASS #5.42 [(( )) div-equals] → T1:translate

PASS #5.43 [(( )) mod-equals] → T1:translate

PASS #5.44 [(( )) assign expr] → T1:translate

PASS #5.45 [(( )) pre-increment] → T1:translate

PASS #5.46 [(( )) pre-decrement] → T1:translate

PASS #5.47 [arith loop counter] → T1:translate

PASS #5.48 [(( )) in while loop] → T1:translate


── Parameter Expansion
PASS #6.1 [${var:-default}] → T1:translate

PASS #6.2 [${var:=default}] → T1:translate

PASS #6.3 [${var:+alternate}] → T1:translate

PASS #6.4 [${#var} length] → T1:translate

PASS #6.5 [${var%.*} suffix] → T1:translate

PASS #6.6 [${var%%.*} longest suffix] → T1:translate

PASS #6.7 [${var#*/} prefix] → T1:translate

PASS #6.8 [${var##*/} longest prefix] → T1:translate

PASS #6.9 [${var/old/new} replace] → T1:translate

PASS #6.10 [${var//old/new} global repl] → T1:translate

PASS #6.11 [${var} simple braces] → T1:translate

PASS #6.12 [${var:0:5} substring] → T1:translate

PASS #6.13 [${var:6} offset] → T1:translate

PASS #6.14 [${var^^} uppercase] → T1:translate

PASS #6.15 [${var,,} lowercase] → T1:translate

PASS #6.16 [${var^} capitalize] → T1:translate

PASS #6.17 [${!var} indirect] → T1:translate


── Here Strings
PASS #7.1 [basic here string] → T1:translate

PASS #7.2 [here string with variable] → T1:translate

PASS #7.3 [here string to read] → T1:translate

PASS #7.4 [here string grep] → T1:translate

PASS #7.5 [here string single quoted] → T1:translate


── Heredocs
PASS #8.1 [basic heredoc] → T1:translate

PASS #8.2 [heredoc with expansion] → T1:translate

PASS #8.3 [heredoc no expansion] → T1:translate

PASS #8.4 [heredoc piped] → T1:translate


── Process Substitution
PASS #9.1 [diff <()] → T1:translate

PASS #9.2 [paste <(seq)] → T1:translate

PASS #9.3 [while read < <()] → T1:translate

PASS #9.4 [cat <(echo)] → T1:translate


── Arrays (Indexed)
PASS #10.1 [array access] → T1:translate

PASS #10.2 [array all elements] → T1:translate

PASS #10.3 [array length] → T1:translate

PASS #10.4 [array append] → T1:translate

PASS #10.5 [array slice] → T1:translate

PASS #10.6 [array in for loop] → T1:translate

PASS #10.7 [array element delete] → T1:translate

PASS #10.8 [array with spaces] → T1:translate


── Associative Arrays
T2   #11.1 [declare -A and use] → bash-exec (detect:yes)

T2   #11.2 [compound assignment] → bash-exec (detect:yes)

T2   #11.3 [all keys] → bash-exec (detect:yes)

T2   #11.4 [iterate assoc array] → bash-exec (detect:yes)


── Case Statements
PASS #12.1 [simple case] → T1:translate

PASS #12.2 [case with wildcard] → T1:translate

PASS #12.3 [case multi-pattern] → T1:translate

PASS #12.4 [case bracket pattern] → T1:translate

T2   #12.5 [case ;& fallthrough] → bash-exec (detect:yes)

PASS #12.6 [nested case in if] → T1:translate


── Functions
PASS #13.1 [function keyword] → T1:translate

PASS #13.2 [parens syntax] → T1:translate

PASS #13.3 [function with local] → T1:translate

PASS #13.4 [function with return] → T1:translate

T2   #13.5 [recursive function] → bash-exec (detect:yes)


── Redirections
PASS #14.1 [stderr to stdout] → T1:translate

PASS #14.2 [discard stderr] → T1:translate

PASS #14.3 [discard both &>] → T1:translate

PASS #14.4 [append >>] → T1:translate

PASS #14.5 [redirect stderr only] → T1:translate


── Subshells & Grouping
PASS #15.1 [subshell basic] → T1:translate

PASS #15.2 [subshell isolation] → T1:translate

PASS #15.3 [subshell cd] → T1:translate

PASS #15.4 [brace group piped] → T1:translate

T2   #15.5 [exit from subshell] → bash-exec

PASS #15.6 [background and wait] → T1:translate


── Brace Expansion
PASS #16.1 [brace list] → T1:translate

PASS #16.2 [brace with prefix] → T1:translate

PASS #16.3 [numeric range] → T1:translate

PASS #16.4 [range with step] → T1:translate

PASS #16.5 [alpha range] → T1:translate

PASS #16.6 [reverse range] → T1:translate

T2   #16.7 [nested braces] → bash-exec (detect:no)

PASS #16.8 [brace expansion in echo] → T1:translate


── Pipelines & Chains
PASS #17.1 [simple pipeline] → T1:translate

PASS #17.2 [3-stage pipeline] → T1:translate

PASS #17.3 [AND chain] → T1:translate

PASS #17.4 [OR chain] → T1:translate

PASS #17.5 [mixed AND/OR (true)] → T1:translate

PASS #17.6 [mixed AND/OR (false)] → T1:translate

PASS #17.7 [semicolon chain] → T1:translate

PASS #17.8 [pipe to while] → T1:translate

PASS #17.9 [pipeline wc] → T1:translate

PASS #17.10 [pipeline tr] → T1:translate

PASS #17.11 [pipeline cut] → T1:translate


── Special Variables
PASS #18.1 [$? success] → T1:translate

PASS #18.2 [$? failure] → T1:translate

PASS #18.3 [colon noop] → T1:translate

PASS #18.4 [colon as true] → T1:translate


── Quoting Edge Cases
PASS #19.1 [single in double] → T1:translate

PASS #19.2 [double in single] → T1:translate

PASS #19.3 [escaped double quotes] → T1:translate

PASS #19.4 [dollar in single (literal)] → T1:translate

PASS #19.5 [backslash in double] → T1:translate

PASS #19.6 [empty string args] → T1:translate

PASS #19.7 [adjacent quoting] → T1:translate


── Traps & Signals
PASS #20.1 [trap EXIT] → T1:translate

T2   #20.2 [trap ERR] → bash-exec (detect:yes)

PASS #20.3 [trap cleanup file] → T1:translate


── Namerefs & Advanced
T2   #21.1 [nameref basic] → bash-exec (detect:yes)

T2   #21.2 [nameref assignment] → bash-exec (detect:yes)

T2   #21.3 [nameref in function] → bash-exec (detect:yes)

T2   #21.4 [eval simple] → bash-exec (detect:yes)

T2   #21.5 [eval indirect] → bash-exec (detect:yes)


── mapfile & readarray
PASS #22.1 [mapfile from cmd] → T1:translate

PASS #22.2 [readarray] → T1:translate


── Coprocesses
T2   #23.1 [basic coproc] → bash-exec (detect:yes)


── Real-World One-Liners
PASS #24.1 [basename in subst] → T1:translate

PASS #24.2 [dirname in subst] → T1:translate

PASS #24.3 [uname system info] → T1:translate

PASS #24.4 [nproc cores] → T1:translate

PASS #24.5 [awk field extract] → T1:translate

PASS #24.6 [sed substitution] → T1:translate

PASS #24.7 [xargs with placeholder] → T1:translate

PASS #24.8 [check cmd exists] → T1:translate

PASS #24.9 [test -f file] → T1:translate

PASS #24.10 [export + run] → T1:translate


── Obscure & Exotic
PASS #25.1 [ANSI-C quoting] → T1:translate

PASS #25.2 [brace alpha range] → T1:translate

PASS #25.3 [brace seq step] → T1:translate

PASS #25.4 [printf repetition] → T1:translate

PASS #25.5 [tilde expansion] → T1:translate

PASS #25.6 [empty if body (: noop)] → T1:translate

PASS #25.7 [IFS manipulation] → T1:translate

PASS #25.8 [regex capture groups] → T1:translate

PASS #25.9 [wait for bg jobs] → T1:translate

PASS #25.10 [nested brace+arith] → T1:translate

PASS #25.11 [set -eo pipefail] → T1:translate

PASS #25.12 [multiple redirection] → T1:translate

PASS #25.13 [arith in array index] → T1:translate

T2   #25.14 [extglob] → bash-exec (detect:yes)

PASS #25.15 [read from brace group] → T1:translate

PASS #25.16 [nested case in loop] → T1:translate

PASS #25.17 [function + export] → T1:translate

PASS #25.18 [multiline semicolons] → T1:translate

PASS #25.19 [deeply chained pipes] → T1:translate


── Stress & Breakage Attempts
PASS #26.1 [100 iteration loop] → T1:translate

PASS #26.2 [long pipeline] → T1:translate

PASS #26.3 [var with special chars] → T1:translate

PASS #26.4 [semicolons everywhere] → T1:translate

PASS #26.5 [nested subshells] → T1:translate

T2~  #26.6 [empty subshell] → bash-exec (detect:yes, output differs)
  cmd:  (); echo "after"
  bash: 
  bexe: bash: eval: line 1: syntax error near unexpected token `)'
bash: eval: line 1: `(); echo "after"'

PASS #26.7 [if with complex condition] → T1:translate

PASS #26.8 [arithmetic overflow] → T1:translate

PASS #26.9 [whitespace in var] → T1:translate

PASS #26.10 [newline in var] → T1:translate

PASS #26.11 [tab in var] → T1:translate

PASS #26.12 [empty case match] → T1:translate

PASS #26.13 [case with spaces] → T1:translate

PASS #26.14 [for loop no body] → T1:translate

PASS #26.15 [while false] → T1:translate

PASS #26.16 [export existing PATH] → T1:translate

PASS #26.17 [nested arithmetic] → T1:translate

PASS #26.18 [command with equals] → T1:translate

PASS #26.19 [multiple here strings] → T1:translate

PASS #26.20 [chained tests] → T1:translate


── Real-World Tool Patterns (may not be installed)
PASS #27.1 [nvm setup] → T1:translate

PASS #27.2 [conda path] → T1:translate

PASS #27.3 [pyenv init] → T1:translate

PASS #27.4 [cargo/rust path] → T1:translate

PASS #27.5 [docker compose] → T1:translate

PASS #27.6 [aws cli pattern] → T1:translate

PASS #27.7 [kubectl pattern] → T1:translate

PASS #27.8 [terraform pattern] → T1:translate

PASS #27.9 [npm/node pattern] → T1:translate

PASS #27.10 [go version pattern] → T1:translate

PASS #27.11 [java version pattern] → T1:translate

PASS #27.12 [ruby version pattern] → T1:translate

PASS #27.13 [ssh remote cmd] → T1:translate

PASS #27.14 [curl installer pattern] → T1:translate

PASS #27.15 [git hook one-liner] → T1:translate

PASS #27.16 [systemd status check] → T1:translate

PASS #27.17 [pip install pattern] → T1:translate

PASS #27.18 [conda activate pattern] → T1:translate

DIFF #27.19 [process CSV files] → T1:translate (fish glob returns nothing on no match)
  cmd:  for f in *.csv; do [ -f "$f" ] && wc -l "$f" || echo "no csv files"; break; done
  xlat: for f in *.csv
[ -f "$f" ]; and wc -l "$f"; or echo "no csv files"
break
  bash: no csv files
  fish: 

PASS #27.20 [system info one-liner] → T1:translate


── Extended Translation Coverage
PASS #28.1 [indirect var] → T1:translate

PASS #28.2 [hostname var] → T1:translate

PASS #28.3 [shift basic] → T1:translate

PASS #28.4 [shift N] → T1:translate

PASS #28.5 [alias define] → T1:translate

PASS #28.6 [printf repeat] → T1:translate

PASS #28.7 [var test -v] → T1:translate

PASS #28.8 [var test -v unset] → T1:translate

PASS #28.9 [read with flags] → T1:translate

PASS #28.10 [mapfile here string] → T1:translate

PASS #28.11 [readarray process sub] → T1:translate

PASS #28.12 [regex capture] → T1:translate

PASS #28.13 [pipe stderr] → T1:translate

PASS #28.14 [param transform Q] → T1:translate

PASS #28.15 [param transform U] → T1:translate

PASS #28.16 [param transform L] → T1:translate

PASS #28.17 [pipestatus basic] → T1:translate

PASS #28.18 [bash source var] → T1:translate

PASS #28.19 [random var] → T1:translate

PASS #28.20 [read -s flag] → T1:translate

═══════════════════════════════════════════
SUMMARY
T1 PASS:    279
T1 DIFF:    1
T2 OK:      18
T2 diff:    1
FAIL:       0
SKIP:       0
Total:      299
═══════════════════════════════════════════
